<!DOCTYPE html>
<!-- vim: set shiftwidth=2 tabstop=2 -->
<html>
	<head>
		<title>Whiteboard</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- This webfont is found at https://github.com/KDE/breeze-icons under GPL and can be built by yourself -->
		<link rel="stylesheet" type="text/css" href="/breeze/22/icons.css"/>
		<link rel="stylesheet" type="text/css" href="res/style.css"/>
		<script type="text/javascript" src="res/whiteboard.js"></script>
	</head>
	<body>
		<div class="container">
			<div class="toolbar">
				<button id="select" title="Select">
					<i class="icon icon_pointer"></i>
					<p>Select</p>
				</button>
				<button id="pan" title="Pan">
					<i class="icon icon_hand"></i>
					<p>Pan</p>
				</button>
				<button id="pencil" title="Pencil" active>
					<i class="icon icon_draw-freehand"></i>
					<p>Draw</p>
				</button>
				<button id="size" title="Select brush size">
					<div class="filler"></div>
					<p>Size</p>
				</button>
				<button id="colour" title="Select colour">
					<div class="filler"></div>
					<p>Colour</p>
				</button>
				<button id="eraser" title="Erase">
					<i class="icon icon_draw-eraser"></i>
					<p>Eraser</p>
				</button>
				<hr/>
				<button id="undo" title="Undo [Ctrl+Z]" disabled>
					<i class="icon icon_edit-undo"></i>
					<p>Undo</p>
				</button>
				<button id="redo" title="Redo [Ctrl+Shift+Z]" disabled>
					<i class="icon icon_edit-redo"></i>
					<p>Redo</p>
				</button>
				<hr/>
				<button id="clear" title="Clear Whiteboard">
					<i class="icon icon_edit-delete"></i>
					<p>Clear White-board</p>
				</button>
				<button id="theme" title="Toggle Theme">
					<i class="icon icon_contrast"></i>
					<p></p>
				</button>
			</div>
			<div class="whiteboard">
				<div class="dialog-container">
					<dialog class="toolbar" id="dialog-select">
						<button id="deselect" title="Cancel">
							<i class="icon icon_dialog-cancel"></i>
							<p>Cancel</p>
						</button>
						<button id="move" wip title="Move">
							<i class="icon icon_transform-move"></i>
							<p>[WIP] Move</p>
						</button>
						<button id="delete" title="Delete">
							<i class="icon icon_edit-delete"></i>
							<p>Delete</p>
						</button>
					</dialog>
					<dialog class="toolbar" id="dialog-shapes"> <!-- TODO -->
						<button id="freehand" title="Freehand">
							<i class="fas fa-wave-sin"></i>
							<p>Freehand</p>
						</button>
						<button id="line" title="Line">
							<i class="fas fa-arrows-alt"></i>
							<p>Line</p>
						</button>
						<button id="arrow" title="Arrow">
							<i class="fas fa-long-arrow-alt-right"></i>
							<p>Arrow</p>
						</button>
						<button id="rectangle" title="Rectangle">
							<i class="far fa-square"></i>
							<p>Rectangle</p>
						</button>
						<button id="circle" title="Circle">
							<i class="far fa-circle"></i>
							<p>Circle</p>
						</button>
					</dialog>
					<dialog class="toolbar" id="dialog-size">
						<button style="--size: 3px"></button>
						<button style="--size: 5px"></button>
						<button style="--size: 7px"></button>
						<button style="--size: 9px"></button>
						<button style="--size: 11px"></button>
					</dialog>
					<dialog id="dialog-colour">
						<div id="colour-palette">
							<button style="--colour: #000"></button> 
							<button style="--colour: #148"></button> 
							<button style="--colour: #184"></button> 
							<button style="--colour: #d00"></button> 
							<button style="--colour: #666"></button> 
							<button style="--colour: #48e"></button> 
							<button style="--colour: #4c0"></button> 
							<button style="--colour: #e90"></button> 
						</div>
						<div id="colour-preview"></div>
						<label for="red">R:</label>
						<input type="range" name="red" id="range-red" min="0" max="255" step="1" value="17" title="Scroll for fine adjustment"/>
						<label for="red" id="value-red">&nbsp;17</label>
						<label for="green">G:</label>
						<input type="range" name="green" id="range-green" min="0" max="255" step="1" value="68" title="Scroll for fine adjustment"/>
						<label for="green" id="value-green">&nbsp;68</label>
						<label for="blue">B:</label>
						<input type="range" name="blue" id="range-blue" min="0" max="255" step="1" value="136" title="Scroll for fine adjustment"/>
						<label for="blue" id="value-blue">136</label>
						<input type="text" id="manual-colour" title="[Return] to confirm manual input"/>
					</dialog>
					<dialog id="dialog-clear">
						<p>
						Are you sure you want to clear the whiteboard?<br/>
						This action is <u>irreversible</u>!
						</p>
						<button id="confirm-clear">Clear</button>
						<button id="cancel-clear">Cancel</button>
					</dialog>
				</div>
				<canvas width=600 height=600>
					<p>Your browser either doesn't support HTML5 Canvas or you have disabled JavaScript</p>
					<p>Both of these are hard requirements for this page to function.</p>
				</canvas>
			</div>
			<div class="status" state="loading">
				<i id="connected" class="icon icon_network-connect"></i>
				<i id="loading" class="icon icon_gtk-convert"></i>
				<i id="disconnected" class="icon icon_network-disconnect"></i>
			</div>
		</div>
	</body>
</html>
